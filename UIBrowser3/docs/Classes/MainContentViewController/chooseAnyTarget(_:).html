<!DOCTYPE html>
<html lang="en">
  <head>
    <title>chooseAnyTarget(_:) Instance Method Reference</title>
    <link rel="stylesheet" type="text/css" href="../../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../../css/highlight.css" />
    <meta charset='utf-8'>
    <script src="../../js/jquery.min.js" defer></script>
    <script src="../../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Method/chooseAnyTarget(_:)" class="dashAnchor"></a>
    <a title="chooseAnyTarget(_:) Instance Method Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="../../index.html"> Docs</a> (6% documented)</p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="../../index.html"> Reference</a>
        <img id="carat" src="../../img/carat.png" />
        chooseAnyTarget(_:) Instance Method Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="../../Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Classes/ActionsTabItemViewController.html">ActionsTabItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/AppDelegate.html">AppDelegate</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/AttributesTabItemViewController.html">AttributesTabItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/BrowserTabItemViewController.html">BrowserTabItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/DetailSplitItemViewController.html">DetailSplitItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/DetailTabViewController.html">DetailTabViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/ElementDataSource.html">ElementDataSource</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/ListTabItemViewController.html">ListTabItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MainContentViewController.html">MainContentViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MainSplitViewController.html">MainSplitViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MainWindowController.html">MainWindowController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MasterSplitItemViewController.html">MasterSplitItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/MasterTabViewController.html">MasterTabViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/NotificationsTabItemViewController.html">NotificationsTabItemViewController</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Classes/OutlineTabItemViewController.html">OutlineTabItemViewController</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../../Global Variables.html">Global Variables</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser333CHOOSE_ANY_TARGET_MENU_ITEM_TITLESSv">CHOOSE_ANY_TARGET_MENU_ITEM_TITLE</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser332CHOOSE_NO_TARGET_MENU_ITEM_TITLESSv">CHOOSE_NO_TARGET_MENU_ITEM_TITLE</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser350CHOOSING_TARGET_ACTIVATES_APPLICATION_DEFAULTS_KEYSSv">CHOOSING_TARGET_ACTIVATES_APPLICATION_DEFAULTS_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser335DID_CHOOSE_TARGET_NOTIFICATION_NAMESSv">DID_CHOOSE_TARGET_NOTIFICATION_NAME</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser345DISPLAYS_BACKGROUND_APPLICATIONS_DEFAULTS_KEYSSv">DISPLAYS_BACKGROUND_APPLICATIONS_DEFAULTS_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser356DISPLAYS_BACKGROUND_APPLICATIONS_SEPARATELY_DEFAULTS_KEYSSv">DISPLAYS_BACKGROUND_APPLICATIONS_SEPARATELY_DEFAULTS_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser323NO_TARGET_MENU_ITEM_TAGSiv">NO_TARGET_MENU_ITEM_TAG</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser323RUNNING_APPLICATION_KEYSSv">RUNNING_APPLICATION_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser328RUNNING_APPLICATION_NAME_KEYSSv">RUNNING_APPLICATION_NAME_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser329SELECT_ELEMENT_TIMER_DURATIONSdv">SELECT_ELEMENT_TIMER_DURATION</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser329SELECT_ELEMENT_TIMER_INTERVALSdv">SELECT_ELEMENT_TIMER_INTERVAL</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser327TARGET_APPLICATION_NAME_KEYSSv">TARGET_APPLICATION_NAME_KEY</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser315TARGET_MENU_TAGSiv">TARGET_MENU_TAG</a>
              </li>
              <li class="nav-group-task">
                <a href="../../Global Variables.html#/s:10UIBrowser324TERMINOLOGY_DEFAULTS_KEYSSv">TERMINOLOGY_DEFAULTS_KEY</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="../../Enums.html">Enums</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="../../Enums/Terminology.html">Terminology</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            <h1>chooseAnyTarget(_:)</h1>
              <div class="declaration">
                <div class="language">
                  <pre class="highlight"><code><span class="kd">@objc</span> <span class="kd">func</span> <span class="nf">chooseAnyTarget</span><span class="p">(</span><span class="n">_</span> <span class="nv">sender</span><span class="p">:</span> <span class="kt">AnyObject</span><span class="p">)</span></code></pre>

                </div>
              </div>
            <p>Updates UI Browser&rsquo;s data and display when the user chooses an application using the Open panel presented by the Target menu.</p>

<p>When the user opened the Target menu, its <code><a href="../../Classes/MainContentViewController.html#/c:@M@UIBrowser3@objc(cs)MainContentViewController(im)menuNeedsUpdate:">menuNeedsUpdate(_:)</a></code> delegate method in <code><a href="../../Classes/AppDelegate.html">AppDelegate</a></code> or <code><a href="../../Classes/MainContentViewController.html">MainContentViewController</a></code> called the <code><a href="../../Classes/MainContentViewController.html#/s:10UIBrowser325MainContentViewControllerC16updateTargetMenuySo6NSMenuCF">updateTargetMenu(_:)</a></code> utility method to populate the menu in the main menu bar or the Target pop-up button. The utility method programmatically connected this action method to the Choose Target… menu item.</p>

<p>This action method presents an Open panel defaulting to the System Applications folder to let the user choose any application installed on the computer. If the user chooses an application that is not running, the method launches it and waits for it to finish launching. Once it is running, or if the user chooses an application that was already running, the method then validates it and, if it makes accessibility available to assistive applications, sets UI Browser&rsquo;s <code><a href="../../Classes/MainContentViewController.html#/s:10UIBrowser325MainContentViewControllerC13currentTargetSo20NSRunningApplicationCSgv">currentTarget</a></code> property and updates UI Browser&rsquo;s data and display. If the application just finished launching but does not validate successfully, the method gives it a little more time. If the application fails to launch or to validate in the allowed time, the method aborts and leaves the current target unchanged.</p>

<p>If the user clicks Open, the Open panel&rsquo;s completion handler determines whether the chosen target is already running, and, if so, immediately validates it and udpates UI Browser&rsquo;s target data and display. If the target is not running, the completion handler launches it. If the launch attempt succeeds, the method employs key-value observing on the <code>NSWorkspace</code> <code>finishedLaunching</code> property to delay until the target has finished launching. When the target finishes launching, the KVO observer block removes the observer, validates the target, and, if needed, schedules a repeating timer to give the target a little more time to make access available before updating UI Browser&rsquo;s target data and display. The timer is neeeded because a very small number of applications are known to make access available shortly after they finish launching. If the launch attempt fails, the KVO observer aborts, leaving the previous target data and display unchanged. If the user clicks Cancel, the Open panel&rsquo;s completion handler leaves the previous target data and display unchanged and restores the previous Target pop-up button&rsquo;s title.</p>

<p><em>See also:</em> <code><a href="../../Classes/MainContentViewController.html#/c:@CM@UIBrowser3@objc(cs)MainContentViewController(im)chooseNoTarget:">chooseNoTarget(_:)</a></code> and <code><a href="../../Classes/MainContentViewController.html#/c:@CM@UIBrowser3@objc(cs)MainContentViewController(im)chooseRunningTarget:">chooseRunningTarget(_:)</a></code>.</p>
<div class="aside aside-note">
    <p class="aside-title">Note</p>
    <p>The equivalent UI Browser 2 methods are -[PFBrowserController chooseApplicationMenuItemAction:] and -[PFBrowserController chooseApplicationPopUpAction:] (the second if-else else branch).</p>

</div>

          </section>
          <section class="section task-group-section">
            <div class="task-group">
              <div class="task-name-container">
                <a name="/TODO:%20What%20if%20the%20chosen%20application%20is%20a%20background%20app?%20NSRunningApplication%20won&#39;t%20work?"></a>
                <a name="//apple_ref/swift/Section/TODO: What if the chosen application is a background app? NSRunningApplication won&#39;t work?" class="dashAnchor"></a>
                <a href="#/TODO:%20What%20if%20the%20chosen%20application%20is%20a%20background%20app?%20NSRunningApplication%20won&#39;t%20work?">
                  <h3 class="section-name">TODO: What if the chosen application is a background app? NSRunningApplication won&#39;t work?</h3>
                </a>
              </div>
              <ul>
                <li class="item">
                  <div>
                    <code>
                    <a name="/s:10UIBrowser325MainContentViewControllerC15chooseAnyTargetyyXlFySo13NSApplicationC13ModalResponseVcfU_ySo20NSRunningApplicationC_10Foundation24NSKeyValueObservedChangeVySbGtcfU_ySo5TimerCcfU_9staticVarL_V11elapsedTimeSdvZ"></a>
                    <a name="//apple_ref/swift/Variable/elapsedTime" class="dashAnchor"></a>
                    <a class="token" href="#/s:10UIBrowser325MainContentViewControllerC15chooseAnyTargetyyXlFySo13NSApplicationC13ModalResponseVcfU_ySo20NSRunningApplicationC_10Foundation24NSKeyValueObservedChangeVySbGtcfU_ySo5TimerCcfU_9staticVarL_V11elapsedTimeSdvZ">elapsedTime</a>
                    </code>
                  </div>
                  <div class="height-container">
                    <div class="pointer-container"></div>
                    <section class="section">
                      <div class="pointer"></div>
                      <div class="abstract">
                        <p>The elapsed time since the application chosen in the Open panel finished launching.</p>

                      </div>
                      <div class="declaration">
                        <h4>Declaration</h4>
                        <div class="language">
                          <p class="aside-title">Swift</p>
                          <pre class="highlight"><code><span class="kd">static</span> <span class="k">var</span> <span class="nv">elapsedTime</span> <span class="o">=</span> <span class="mf">0.0</span></code></pre>

                        </div>
                      </div>
                    </section>
                  </div>
                </li>
              </ul>
            </div>
          </section>
        </section>
        <section id="footer">
          <p>&copy; 2017 <a class="link" href="" target="_blank" rel="external"></a>. All rights reserved. (Last updated: 2017-09-15)</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.8.3</a>, a <a class="link" href="http://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
